<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:groupList="clr-namespace:ChatClient.Avalonia.Controls.GroupList">
    <Style Selector="groupList|GroupList">
        <Setter Property="Template">
            <ControlTemplate>
                <Expander FontSize="13.5"
                          Theme="{StaticResource ChatExpander}"
                          FontWeight="SemiBold">
                    <Expander.Header>
                        <TextBlock FontSize="13.5" FontWeight="DemiBold" Text="{TemplateBinding Header}" />
                    </Expander.Header>
                    <ListBox Name="PART_ListBox"
                             SelectedItem="{Binding $parent[groupList:GroupList].SelectedItem}"
                             ItemsSource="{Binding $parent[groupList:GroupList].GroupContents}"
                             Classes="Void Chat">
                        <Interaction.Behaviors>
                            <EventTriggerBehavior EventName="SelectionChanged">
                                <InvokeCommandAction Command="{TemplateBinding SelectionChangedCommand}"
                                                     CommandParameter="{Binding $parent[ListBox].SelectedItem}" />
                            </EventTriggerBehavior>
                        </Interaction.Behaviors>
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Vertical" Spacing="-1" />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Grid Height="46">
                                    <Grid Margin="6,6" ColumnDefinitions="42,*">
                                        <Grid Width="42" Height="42">
                                            <Panel Width="42" Height="42">
                                                <Panel.Clip>
                                                    <EllipseGeometry
                                                        Center="21,21"
                                                        RadiusX="21"
                                                        RadiusY="21" />
                                                </Panel.Clip>
                                                <Image
                                                    Width="42"
                                                    Height="42"
                                                    Source="{Binding  UserDto.HeadImage}" />
                                            </Panel>
                                            <Ellipse IsVisible="{Binding UserDto.IsOnline}"
                                                     Fill="LimeGreen"
                                                     Width="9"
                                                     Height="9"
                                                     HorizontalAlignment="Right"
                                                     VerticalAlignment="Bottom"
                                                     Margin="1" />
                                            <Ellipse IsVisible="{Binding !UserDto.IsOnline}"
                                                     Fill="Red"
                                                     Width="9"
                                                     Height="9"
                                                     HorizontalAlignment="Right"
                                                     VerticalAlignment="Bottom"
                                                     Margin="1" />
                                        </Grid>
                                        <Grid Grid.Column="1" RowDefinitions="1.2*,1*" Margin="10,0,0,0">
                                            <TextBlock
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                FontSize="13.5"
                                                Opacity="0.9"
                                                FontWeight="DemiBold"
                                                Foreground="{DynamicResource SukiText}"
                                                Text="{Binding  UserDto.Name}" />
                                            <TextBlock Grid.Row="1"
                                                       VerticalAlignment="Center"
                                                       FontSize="12"
                                                       Opacity="0.8"
                                                       Margin="0,0,15,0"
                                                       LetterSpacing="0.5"
                                                       TextTrimming="CharacterEllipsis"
                                                       Foreground="{DynamicResource SukiText}"
                                                       Text="{Binding UserDto.Introduction}" />
                                        </Grid>
                                    </Grid>
                                </Grid>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Expander>
            </ControlTemplate>
        </Setter>
    </Style>
</Styles>